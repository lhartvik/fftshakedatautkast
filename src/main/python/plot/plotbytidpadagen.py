import matplotlib.pyplot as plt
import matplotlib.ticker as ticker

times = [0, 8, 29, 39, 42, 43, 432, 442, 451, 453, 457, 467, 469, 470, 471, 476, 478, 479, 480, 482, 483, 490, 503, 507, 507, 508, 514, 533, 539, 561, 562, 563, 567, 584, 590, 591, 591, 592, 594, 595, 595, 605, 605, 605, 611, 613, 616, 625, 632, 636, 639, 647, 649, 652, 660, 665, 667, 674, 688, 695, 695, 697, 698, 703, 709, 721, 721, 727, 729, 729, 730, 737, 739, 744, 747, 761, 763, 768, 770, 778, 779, 784, 785, 788, 788, 795, 796, 800, 802, 803, 809, 810, 835, 844, 847, 857, 857, 871, 873, 874, 881, 900, 902, 903, 905, 908, 914, 915, 919, 928, 941, 944, 945, 954, 960, 961, 965, 972, 975, 978, 980, 986, 989, 991, 997, 1000, 1008, 1010, 1010, 1021, 1030, 1034, 1042, 1044, 1045, 1059, 1060, 1067, 1077, 1086, 1101, 1102, 1102, 1106, 1114, 1117, 1137, 1141, 1143, 1143, 1145, 1157, 1166, 1182, 1198, 1200, 1208, 1208, 1232, 1246, 1246, 1251, 1253, 1254, 1254, 1264, 1266, 1268, 1276, 1277, 1283, 1297, 1304, 1304, 1305, 1306, 1306, 1311, 1311, 1316, 1321, 1325, 1329, 1345, 1368, 1381, 1421, 1435]
values = [0.2978858002169909, 0.16204717142836916, 0.33120667029999545, 0.1424476039222921, 0.25401037585743047, 0.20309752498405415, 0.11848270320504045, 0.3169834189500097, 0.20742341048600782, 0.14358210152268247, 0.29025381332865174, 0.20889718009335637, 0.2690002636828019, 0.32454944749480513, 0.3498889698428414, 0.3131186899897862, 0.27274203365816463, 0.19645135997134758, 0.31186040589086406, 0.1450827285072917, 0.20472602126333694, 0.3671913746873862, 0.2433246315264794, 0.08262682773851589, 0.32886497210911625, 0.3844248701025569, 0.4346054338110072, 0.4184224650508139, 0.2380397822371797, 0.2108843662466415, 0.48750503262933226, 0.28986399387622563, 0.2954560212651007, 0.2753064272405224, 0.13828369615071615, 0.31296188451961066, 0.1558427388257776, 0.2406934120375204, 0.44569929928238033, 0.47083482565940804, 0.2836218626426591, 0.24447298206737908, 0.3428012603752685, 0.31224158740097524, 0.18479104688251535, 0.20442430540508863, 0.5081212707912036, 0.2114178622744319, 0.3757064835332405, 0.27453755000390667, 0.2112883099854734, 0.2196211715717042, 0.24764311349832926, 0.3828257432877362, 0.34103995379328056, 0.33884912101889075, 0.2853555130678865, 0.2549922526624405, 0.21412867959594714, 0.32647578287936047, 0.23267426102027347, 0.3983066979868539, 0.2279491051136047, 0.30471232414951216, 0.3016172978228236, 0.5727532701906156, 0.22286185436883546, 0.14517695130345415, 0.16094628371694433, 0.24336090734689583, 0.07491409545844042, 0.22528276016568577, 0.17471738419091057, 0.269405608907079, 0.44395127564132436, 0.5041418905893328, 0.32518342067658573, 0.3974461418019742, 0.3987540009815412, 0.21958724285989703, 0.23485524529885216, 0.3912306827305074, 0.5143129410539753, 0.4458190328531762, 0.18817318261425295, 0.21751326439760835, 0.16228872048034598, 0.25404761308280144, 0.33092794365577394, 0.43425592282121356, 0.28774485414907924, 0.2524918436937281, 0.3981582590320832, 0.20346993210130898, 0.4227731652898736, 0.14429401688483073, 0.285692799235718, 0.233115998991692, 0.2736701786621024, 0.4024107926687359, 0.1319640399631193, 0.15978106761621141, 0.3058275418444823, 0.3595691891929569, 0.3028302223166797, 0.23578394717813275, 0.16703831117754656, 0.6586220860451424, 0.20338688908165795, 0.27016037841079266, 0.4070714927852423, 0.2812335009686007, 0.2637306793053843, 0.21294721841021827, 0.3100331223863507, 0.14694830262428615, 0.19901947529626246, 0.12869249000458205, 0.07092707152319694, 0.15978656884497866, 0.2091221711925752, 0.3854600101004005, 0.30178276255794845, 0.2105884219656496, 0.2546439497859395, 0.19816737552999386, 0.41862708501856233, 0.4275299825665265, 0.23692167828276836, 0.45497377617018875, 0.16560803990847708, 0.1722148108358065, 0.17460454107332266, 0.11392651244454748, 0.41046727162370494, 0.31434074743686197, 0.415023000001243, 0.23302592660887933, 0.24488529260577285, 0.24808087319191482, 0.3756351897794427, 0.2554231384955632, 0.4880921942428189, 0.5548590738745683, 0.5144210250255651, 0.2111497728307582, 0.13367242572782911, 0.16626069313090197, 0.24285409213607292, 0.306808428619097, 0.3581179935011498, 0.27546250629937885, 0.5821440733818843, 0.16380996200070067, 0.37751903049753105, 0.21764787815826026, 0.29295362062494545, 0.20183667743967385, 0.3012575546266962, 0.21492636802593937, 0.20895882897645124, 0.18473771664014602, 0.13918773719580138, 0.2626512846291368, 0.19986634096015768, 0.1784799286527647, 0.35680466586198833, 0.4913702026836752, 0.15936014270965043, 0.16840555569421617, 0.17422343935354426, 0.28324940418676153, 0.1263365850068107, 0.2311613908061134, 0.18667842335099494, 0.2379004372815943, 0.165574296837481, 0.2326957458981086, 0.16756679121746734, 0.13585089879708845, 0.3001439809900536, 0.1574109437257099, 0.12404000139169598, 0.16746472528916206, 0.09091814066688526, 0.22284227043739946, 0.1444266264608839, 0.14662778189296835]
tidSidenSistePille = [4, 2, 4, 0, 5, 5, 10, 10, 10, 12, 10, 12, 69, 10, 10, 7, 12, 11, 11, 11, 32, 10, 11, 8, 12, 10, 0, 11, 83, 13, 9, 16, 0, 48, 25, 2, 2, 73, 13, 2, 13, 2, 26, 21, 14, 1, 2, 10, 0, 24, 37, 25, 37, 1, 1, 11, 22, 51, 49, 3, 38, 1, 3, 23, 0, 2, 4, 2, 26, 2, 0, 12, 0, 1, 2, 1, 1, 15, 1, 0, 1, 1, 40, 1, 1, 2, 3, 1, 3, 2, 3, 1, 4, 3, 41, 14, 3, 2, 52, 41, 3, 0, 1, 7, 3, 42, 31, 3, 5, 3, 5, 42, 7, 1, 6, 3, 6, 1, 2, 5, 0, 18, 2, 0, 1, 2, 2, 32, 56, 1, 6, 3, 1, 0, 8, 44, 2, 31, 5, 0, 0, 10, 4, 32, 8, 6, 4, 1, 5, 4, 6, 3, 33, 1, 0, 3, 47, 9, 2, 3, 2, 1, 5, 2, 44, 4, 1, 59, 13, 35, 3, 6, 0, 1, 2, 0, 1, 1, 0, 1, 0, 36, 5, 10, 2, 61, 2, 3]

# Plot the data as a scatter plot

fig, ax = plt.subplots()
ax.scatter(times, values, tidSidenSistePille)

# Opprett en funksjon for å dele verdiene på x-aksen med 60
def divide_by_60(x, pos):
    return round(x / 60)

# Bruk FuncFormatter for å bruke funksjonen til x-aksen
formatter = ticker.FuncFormatter(divide_by_60)

ax.xaxis.set_major_formatter(formatter)

for i, tidSidenSistePille in enumerate(tidSidenSistePille):
    if (values[i] > 0.4):
        plt.annotate(tidSidenSistePille, (times[i], values[i]), textcoords="offset points", xytext=(5,0), ha='center')

# Customize the plot
plt.xlabel('Tid på døgnet')
plt.ylabel('Skjelving')
plt.title('Skjelving, tid på døgnet, tid siden pille')
plt.grid(True)

# Display the plot
plt.show()
